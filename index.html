<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hadron Lab Ver 20.0</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&family=M+PLUS+Rounded+1c:wght@700&family=Orbitron:wght@700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div class="lab-container">
        <div class="top-bar">
            <div style="font-family:'Orbitron'; font-weight:bold; color:#aaa; margin-right:20px;">HADRON LAB</div>
            <div class="status-box" style="border-color:var(--hc-green);">
                <span>ğŸ’´ BUDGET:</span><span id="disp-money" style="color:var(--hc-green); font-weight:bold;">0</span>
            </div>
            <div style="flex-grow:1;"></div>
            <div class="status-box" style="border-color:var(--hc-orange);">
                <span>RANK: </span><span id="disp-rank">Master 1</span>
            </div>
        </div>

        <div class="sidebar">
            <div class="menu-item active" onclick="showHome()"><div class="menu-icon">ğŸ </div> <span>HOME PORT</span></div>
            <div class="menu-item" onclick="showView('view-deck')"><div class="menu-icon">ğŸ”„</div> <span>FORMATION</span></div>
            <div class="menu-item" onclick="showView('view-shop')"><div class="menu-icon">ğŸ›’</div> <span>SUPPLY</span></div>
            <div class="menu-item" onclick="showView('view-craft')"><div class="menu-icon">ğŸ› </div> <span>FACTORY</span></div>
            <div class="menu-item" onclick="showView('view-proposal')"><div class="menu-icon">ğŸ“</div> <span>PROPOSAL</span></div>
            <div class="menu-item" onclick="showView('view-office')"><div class="menu-icon">ğŸ“</div> <span>ARCHIVE</span></div>
            <div class="menu-item" onclick="showView('view-mission')"><div class="menu-icon">âš”ï¸</div> <span>MISSION</span></div>
        </div>
        
        <div class="deck-display-area" id="home-deck-display"></div>

        <div id="view-home" class="main-view active">
            <div class="home-menu-container">
                <div class="gear-btn btn-main" onclick="showView('view-proposal')"><div style="font-size:2.5rem;">âš¡</div><div>EXP.</div></div>
                <div class="gear-btn btn-shop" onclick="showView('view-shop')"><div style="font-size:1.5rem;">ğŸ›’</div><div>SUPPLY</div></div>
                <div class="gear-btn btn-deck" onclick="showView('view-deck')"><div style="font-size:1.5rem;">ğŸ”„</div><div>DECK</div></div>
                <div class="gear-btn btn-craft" onclick="showView('view-craft')"><div style="font-size:1.5rem;">ğŸ› </div><div>CRAFT</div></div>
                <div class="gear-btn btn-office" onclick="showView('view-office')"><div style="font-size:1.5rem;">ğŸ“‚</div><div>DATA</div></div>
                <div class="gear-btn btn-battle" onclick="showView('view-mission')"><div style="font-size:1.5rem;">âš”ï¸</div><div>BATTLE</div></div>
            </div>
        </div>

        <div id="view-deck" class="main-view">
            <h2 style="font-family:'Orbitron'; color:var(--hc-purple);">DECK FORMATION</h2>
            <p>ç”»åƒã‚’ã‚¯ãƒªãƒƒã‚¯ã§è©³ç´°ãƒ»ç€ã›æ›¿ãˆã€èƒŒæ™¯ã‚¯ãƒªãƒƒã‚¯ã§å…¥ã‚Œæ›¿ãˆã€‚</p>
            <div class="deck-slots" id="deck-slots-container"></div>
            <div style="text-align:center;">
                <button onclick="saveDeck()" style="padding:15px 40px; background:var(--hc-green); border:none; color:white; font-size:1.2rem; cursor:pointer;">SAVE FORMATION</button>
            </div>
        </div>

        <div id="view-shop" class="main-view"><h2 style="font-family:'Orbitron'">MATERIAL SHOP</h2><div id="shop-list" class="shop-grid"></div></div>
        
        <div id="view-craft" class="main-view"><h2 style="font-family:'Orbitron'">WORKSHOP</h2><div id="craft-list" class="craft-grid"></div></div>
        
        <div id="view-proposal" class="main-view">
            <div style="background:#eee; padding:30px; border-radius:5px; color:#333; max-width:800px; margin:0 auto;">
                <h2>Experiment Proposal</h2>
                <div style="margin-bottom:15px;">
                    <label style="font-weight:bold; display:block;">1. BEAM</label>
                    <select id="sel-beam" style="width:100%; padding:10px; margin-bottom:10px;" onchange="calcProposalCost()"></select>
                </div>
                <div style="margin-bottom:15px;">
                    <label style="font-weight:bold; display:block;">2. TARGET</label>
                    <select id="sel-target" style="width:100%; padding:10px; margin-bottom:10px;" onchange="calcProposalCost()"></select>
                </div>
                <div style="margin-bottom:15px;">
                    <label style="font-weight:bold; display:block;">3. DETECTOR</label>
                    <select id="sel-detector" style="width:100%; padding:10px; margin-bottom:10px;" onchange="calcProposalCost()"></select>
                </div>
                <div style="text-align:right; font-weight:bold; margin-top:20px;">
                    COST (x1): Â¥<span id="prop-cost">0</span>
                </div>
                <div style="display:flex; gap:10px; margin-top:10px;">
                    <button onclick="runExperiment(1)" style="flex:1; background:var(--hc-blue); color:white; padding:15px; border:none; font-size:1.2rem; cursor:pointer;">SUBMIT (x1)</button>
                    <button onclick="runExperiment(10)" style="flex:1; background:var(--hc-purple); color:white; padding:15px; border:none; font-size:1.2rem; cursor:pointer;">SUBMIT (x10)</button>
                </div>
            </div>
        </div>
        
        <div id="view-office" class="main-view"><h2 style="font-family:'Orbitron'">OFFICE</h2><div id="particle-stock-list" class="shop-grid"></div></div>

        <div id="view-mission" class="main-view">
            <h2 style="font-family:'Orbitron'; color:var(--hc-red);">MISSION SELECT</h2>
            <div class="mission-grid">
                <div class="mission-card" onclick="startBattle('m1')"><h3>Basic Training</h3><div class="mission-tag">Normal</div><p>åŸºç¤è¨“ç·´ç”¨ã‚³ãƒ¼ã‚¹ã€‚</p><div style="margin-top:10px; font-size:0.9rem;">Target: Standard Nucleus</div></div>
                <div class="mission-card" onclick="startBattle('m2')"><h3>Gold Rush</h3><div class="mission-tag tag-money">Money</div><p>è³‡é‡‘ç¨¼ãç‰¹åŒ–ã€‚</p><div style="margin-top:10px; font-size:0.9rem; color:#f1c40f;">Target: Gold Chunk</div></div>
                <div class="mission-card" onclick="startBattle('m3')"><h3>Material Depot</h3><div class="mission-tag tag-mat">Material</div><p>ç´ æå›åç‰¹åŒ–ã€‚</p><div style="margin-top:10px; font-size:0.9rem; color:#2ecc71;">Target: Carbon Pile</div></div>
                <div class="mission-card" onclick="startBattle('m4')"><h3>Antimatter Zone</h3><div class="mission-tag tag-boss">Hard</div><p>å±é™ºåœ°å¸¯ã€‚</p><div style="margin-top:10px; font-size:0.9rem; color:#9b59b6;">Target: Anti-H</div></div>
                <div class="mission-card" onclick="startBattle('m5')"><h3>Event Horizon</h3><div class="mission-tag tag-boss">EX-Hard</div><p>ç”Ÿé‚„ç‡æ¥µå°ã€‚</p><div style="margin-top:10px; font-size:0.9rem; color:#e74c3c;">Target: Singularity</div></div>
            </div>
        </div>

    </div>

    <div id="select-modal" class="modal-overlay">
        <div class="modal-content"><h3>SELECT PARTICLE</h3><div id="select-list" class="particle-list"></div><button onclick="closeModal('select-modal')" style="margin-top:20px; padding:10px; background:#555; color:white; border:none; cursor:pointer;">CANCEL</button></div>
    </div>
    <div id="detail-modal" class="modal-overlay"><div class="modal-content" style="max-width:600px;"><div id="detail-content" class="detail-layout"></div><div style="text-align:center; margin-top:20px;"><button onclick="closeModal('detail-modal')" style="padding:10px 30px; background:var(--hc-blue); border:none; color:white; cursor:pointer;">CLOSE</button></div></div></div>
    <div id="result-modal" class="modal-overlay"><div class="modal-content" style="text-align:center;"><h2 style="color:var(--hc-green);">Experiment Result</h2><div id="exp-result-content"></div><button onclick="closeModal('result-modal')" style="margin-top:20px; padding:10px 30px; background:var(--hc-blue); border:none; color:white; cursor:pointer;">OK</button></div></div>

    <script src="script.js"></script>
</body>
</html>
